{
  "name": "micro-fastify",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "--- KAFKA ---": "------------------------------------------------------------------",
    "kafka": "docker compose -f ./infra/kafka-compose.yaml up --build --force-recreate --no-deps --detach",
    "--- KUBERNETES ---": "-------------------------------------------------------------",
    "k:ing-add": "kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v1.8.2/deploy/static/provider/cloud/deploy.yaml",
    "k:ing-check": "kubectl get pods --namespace=ingress-nginx",
    "k:ing-delete": "kubectl delete ing --ignore-not-found=true ingress-service",
    "k:secrets": "pnpm k:secrets-delete && pnpm k:secret-domain && pnpm k:secret-jwt",
    "k:secrets-delete": "kubectl delete secret --ignore-not-found=true domain jwt-secret",
    "k:secret-domain": "kubectl create secret generic domain --from-literal=DOMAIN=fa.is",
    "k:secret-jwt": "kubectl create secret generic jwt-secret --from-literal=JWT_SECRET=Key123",
    "--- SKAFFOLD ---": "---------------------------------------------------------------",
    "skaf": "pnpm skaf:prep && skaffold dev --cleanup=false",
    "skaf:prep": "pnpm k:ing-delete && pnpm k:secrets",
    "skaf:reset": "pnpm skaf:prep && skaffold dev",
    "--- LOCAL-RUN ---": "--------------------------------------------------------------",
    "prepare": "husky install",
    "dev": "concurrently -c magenta,yellow,cyan,green,blue,red npm:dev:*",
    "test": "concurrently -c magenta,yellow,cyan,green,blue,red npm:test:*",
    "lint": "concurrently -c magenta,yellow,cyan,green,blue,red npm:lint:*",
    "lint:eslint": "eslint --fix --max-warnings 5 \"apps/**/*.ts\"",
    "--- CLIENT ---": "-----------------------------------------------------------------",
    "dev:client": "SERVICE_PORTS=auth:3001 NEXT_PUBLIC_API_URL=http://localhost:3000 pnpm -C apps/client dev",
    "lint:client": "tsc -p apps/client --noEmit --incremental",
    "--- AUTH ---": "-------------------------------------------------------------------",
    "dev:auth": "PORT=3001 pnpm -C apps/auth dev",
    "test:auth": "pnpm -C apps/auth test",
    "lint:auth": "tsc -p apps/auth --noEmit --incremental"
  },
  "keywords": [],
  "author": "Artem Zinovev",
  "license": "ISC",
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^6.7.2",
    "@typescript-eslint/parser": "^6.7.2",
    "concurrently": "^8.2.1",
    "eslint": "^8.50.0",
    "eslint-config-prettier": "^9.0.0",
    "eslint-plugin-import": "^2.28.1",
    "husky": "^8.0.3",
    "typescript": "^5.2.2"
  },
  "dependencies": {
    "kafkajs": "^2.2.4",
    "wait-on": "^7.2.0"
  }
}
